/* ---------- appended: typography, label/value rows & clarity tweaks ---------- */

/* design tokens used by this block (safe to duplicate) */
:root {
  --muted: rgba(230,238,248,0.66);
  --muted-2: rgba(230,238,248,0.46);
  --accent: #ff8c00;
  --glass-border: rgba(255,255,255,0.02);
  --radius: 12px;
  --label-size: 12px;
  --value-size: 14px;
}

/* Panel heading tweaks */
.panel-head h2 {
  font-size: 18px;
  margin: 0;
  font-weight: 800;
  letter-spacing: -0.2px;
}
.panel-head .chip { font-size: 12px; }

/* Consistent label/value rows for clearer reading */
/* Use .row wherever a label and value pair should appear */
.row,
.info-grid > div,
.panel-section .row-inline {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 6px 0;
  min-height: 38px;
}

/* label style (left) */
.row .label,
.panel-section .row-inline .label,
.field-label,
.info-grid .label {
  font-size: var(--label-size);
  color: var(--muted);
  line-height: 1.2;
  display: block;
}

/* value style (right) */
.row .value,
.panel-section .row-inline .value,
.info-grid > div > span:last-child {
  font-size: var(--value-size);
  color: #e6eef8;
  text-align: right;
  line-height: 1.2;
}

/* Monospace coordinates for better legibility */
.coords,
.info-grid > div > span:last-child,
.popup-content small {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum";
  color: #e6eef8;
  font-size: 13px;
}

/* Tidy the existing info-grid into vertical label/value rows on narrow widths */
@media (min-width: 980px) {
  .info-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
}
@media (max-width: 979px) {
  .info-grid { display: flex; flex-direction: column; gap: 6px; }
  .info-grid > div { display:flex; justify-content:space-between; align-items:center; }
}

/* Recent trail: clearer rows */
.mini-trail .trail-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 0;
  border-bottom: 1px dashed rgba(255,255,255,0.02);
}
.mini-trail .trail-row:last-child { border-bottom: none; }
.trail-row .dot { width: 10px; height: 10px; border-radius: 50%; background: var(--accent); }

/* Smaller, clearer labels for toggle rows */
.toggle-row label { font-size: 13px; color: var(--muted); display: flex; align-items: center; gap: 8px; }

/* Map pill improvements (prevent wrapping & improve contrast) */
.map-pill {
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(2,6,23,0.66);
  padding: 8px 12px;
  border-radius: 999px;
  font-size: 13px;
  backdrop-filter: blur(4px);
  max-width: 380px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
.map-pill .pill-title { font-weight: 700; color: #dff6f0; }
.map-pill .pill-sub { color: var(--muted); font-size: 12px; margin-left: 6px; }

/* Popup styling (light card for readability) */
.leaflet-popup-content-wrapper {
  border-radius: 10px !important;
  box-shadow: 0 8px 26px rgba(2,6,23,0.45) !important;
  overflow: visible;
}
.leaflet-popup-content {
  color: #071224;
  font-size: 13px;
  line-height: 1.25;
}

/* Make marker pop on tiles */
.leaflet-marker-icon { filter: drop-shadow(0 10px 20px rgba(2,6,23,0.45)); transform-origin: center bottom; }

/* Toast and SOS z-index safety */
.toast { z-index: 80; }
.sos-floating-card { z-index: 46; }

/* Drawer/backdrop tweaks for mobile */
.drawer-backdrop { transition: opacity 180ms ease; }
.control-panel.mobile-drawer { transition: transform 220ms ease, opacity 180ms ease; }

/* Utility: visually separate sections slightly more */
.panel-section { padding: 12px; border-radius: var(--radius); }

/* Tiny screens: reduce line length and allow wrapping on pill */
@media (max-width: 420px) {
  .map-pill { max-width: 70%; white-space: normal; }
  .panel-head h2 { font-size: 16px; }
  .row .value { font-size: 13px; }
}
